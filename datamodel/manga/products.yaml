# manga cube
cube:
  name: CUBE
  short: A MaNGA DataCube
  description: |
    This is 3d spectral datacube, with two spatial dimensions and one spectral dimension.
    
    The MaNGA DRP provides regularly-gridded cubes (with both logarithmic and linear wavelength 
    solutions) that combine information from all exposures of a given galaxy.  The cubes are 
    three-dimensional arrays in which the first and second dimensions are spatial (with regular 0.5 
    arcsec square spaxels) and the third dimension represents wavelength.
  datatype: fits
  path_name: mangacube
  path_kwargs: {plate: 8485, ifu: 1901, drpver: v2_4_3, wave: LOG}
  example: mangawork/manga/spectro/redux/v2_4_3/8485/stack/manga-8485-1901-LOGCUBE.fits.gz
  versions: &ver [MPL1, MPL2, MPL3, MPL4, DR13, MPL5, DR14, MPL6, MPL7, DR15, MPL8]
  # this is example of changelog utilizing the defaults dict
  defaults:
    wavelengths: [LOG, LIN]
  changelog:
    MPL1: &owave
      wavelengths: [LOG]
    MPL2:
      <<: *owave
    MPL3:
      <<: *owave

# manga rss
rss:
  name: RSS
  short: A MaNGA Row-Stacked Spectra
  description: this is a manga rss file
  datatype: fits
  path_name: mangarss
  path_kwargs: {plate: 8485, ifu: 1901, wave: LOG}
 # example: mangawork/manga/spectro/redux/v2_4_3/8485/stack/manga-8485-1901-LOGRSS.fits.gz
  versions: *ver
  # this is an example of an explicit changelog
  changelog:
    MPL1: &logwave 
      wavelengths: [LOG]
    MPL2:
      <<: *logwave
    MPL3:
      <<: *logwave 
    MPL4: &wave
      wavelengths: [LOG, LIN]
    DR13: 
      <<: *wave
    MPL5: 
      <<: *wave 
    DR14: 
      <<: *wave 
    MPL6: 
      <<: *wave 
    MPL7: 
      <<: *wave 
    DR15: 
      <<: *wave 
    MPL8: 
      <<: *wave 

# manga image
image: 
  name: Image
  short: MaNGA optical image
  description: this is a manga optical PNG image based on SDSS gri cutout service
  datatype: image
  path_name: mangaimage
  example: mangawork/manga/spectro/redux/v2_4_3/8485/stack/images/1901.png
  versions: [MPL2, MPL3, MPL4, MPL5, MPL6, MPL7, DR15, MPL8]
  changelog:
    MPL8:
      example: mangawork/manga/spectro/redux/v2_4_3/8485/images/1901.png

# manga maps
maps:
  name: MAPS
  short: A MaNGA DAP maps object
  description: this is a manga dap map file
  datatype: fits
  versions: [MPL4, MPL5, MPL6, MPL7, DR15, MPL8]
  # this is an example of a changelog where everything changes 
  changelog: &dapchange
    MPL4:
      path_name: mangamap
      path_kwargs: {plate: 8485, ifu: 1901, mode: MAPS, n: 13, bintype: NONE}
      bintypes: [NONE, RADIAL, STON]
      templates: [M11-STELIB-ZSOL, MIUSCAT-THIN, MILES-THIN]
      default_bintype: NONE
      default_template: MIUSCAT-THIN
      #example: mangawork/manga/spectro/analysis/v1_5_1/1.1.1/full/8485/1901/manga-8485-1901-LOGCUBE_MAPS-NONE-013.fits.gz
    MPL5: &mpl5
      example: mangawork/manga/spectro/analysis/v2_0_1/2.0.2/SPX-GAU-MILESHC/8485/1901/manga-8485-1901-MAPS-SPX-GAU-MILESHC.fits.gz
      path_name: mangadap
      bintypes: [SPX, VOR10, ALL, NRE]
      templates: [GAU-MILESHC]
      default_bintype: SPX
      default_template: GAU-MILESHC
    MPL6:
      <<: *mpl5
      bintypes: MPL5 += HYB10
    MPL7: &dr15
      <<: *mpl5
      bintypes: [HYB10, VOR10]
      default_bintype: HYB10
      example: mangawork/manga/spectro/analysis/v2_4_3/2.2.1/HYB10-GAU-MILESHC/8485/1901/manga-8485-1901-MAPS-HYB10-GAU-MILESHC.fits.gz
    DR15: 
      <<: *dr15
    MPL8:
      example: mangawork/manga/spectro/analysis/v2_5_3/2.3.0/HYB10-MILESHC-MILESHC/8485/1901/manga-8485-1901-MAPS-HYB10-MILESHC-MILESHC.fits.gz
      templates: [MILESHC-MILESHC]
      bintypes: MPL7 += SPX 
      default_bintype: HYB10
      default_template: MILESHC-MILESHC

# manga modelcube
modelcube:
  name: MODELCUBE
  short: A MaNGA DAP modelcube object
  description: this is a manga dap modelcube file
  datatype: fits
  versions: [MPL5, MPL6, MPL7, DR15, MPL8]
  changelog:
    <<: *dapchange
    MPL4: null

# manga drpall file
drpall:
  name: DRPALL
  short: The MaNGA DRPall file
  description: This is MaNGA file containing metadata for every reduction target
  datatype: fits
  versions: *ver
  path_name: drpall
  example: mangawork/manga/spectro/redux/v2_4_3/drpall-v2_4_3.fits
